(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["packageMy-pages-my-authentication-authentication"],{1661:function(t,a,e){"use strict";e.d(a,"b",(function(){return n})),e.d(a,"c",(function(){return o})),e.d(a,"a",(function(){return i}));var i={uniNavBar:e("f519").default,uniForms:e("858b").default,uniFormsItem:e("243f").default,uniEasyinput:e("6c90").default},n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-uni-view",{staticClass:"page-container auth-container"},[e("uni-nav-bar",{attrs:{dark:!0,fixed:!0,"status-bar":!0,"left-icon":"left",border:!1,title:"实名认证"},on:{clickLeft:function(a){arguments[0]=a=t.$handleEvent(a),t.goBack.apply(void 0,arguments)}}}),e("v-uni-view",{staticClass:"p-3"},[e("v-uni-view",{staticClass:"mb-3"},[e("v-uni-text",{staticClass:"text-grey-150 fs_15"},[t._v("请拍摄并上传你的有效身份证")]),e("v-uni-view",{staticClass:"mt-3 d-inline-block auth-card"},[e("v-uni-view",{staticClass:"p-3"},[e("v-uni-image",{staticClass:"image auth-image",attrs:{src:t.authCard,mode:"aspectFit"}})],1),e("v-uni-view",{staticClass:"bg-primary-600 d-block text-center my-btn fs_14",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.unloadIDImage.apply(void 0,arguments)}}},[t._v("上传身份证正面")])],1)],1),e("uni-forms",{ref:"authForm",staticClass:"authForm",attrs:{modelValue:t.authForm,"label-position":"top","label-width":"200"}},[e("uni-forms-item",{attrs:{label:"姓名"}},[e("uni-easyinput",{attrs:{placeholder:"请输入姓名"},model:{value:t.authForm.name,callback:function(a){t.$set(t.authForm,"name",a)},expression:"authForm.name"}})],1),e("uni-forms-item",{attrs:{label:"身份证号码"}},[e("uni-easyinput",{attrs:{placeholder:"请输入身份证号码"},model:{value:t.authForm.idcode,callback:function(a){t.$set(t.authForm,"idcode",a)},expression:"authForm.idcode"}})],1)],1),e("v-uni-view",{staticClass:"p-btn"},[e("v-uni-view",{staticClass:"my-btn bg-primary-600 px-2 py-3 fs_16",attrs:{type:"primary",size:"mini"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.submit()}}},[t._v("身份认证")])],1)],1)],1)},o=[]},4816:function(t,a,e){t.exports=e.p+"static/img/auth_card.ff574e3e.png"},a199:function(t,a,e){"use strict";(function(t){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i={data:function(){return{authCard:e("4816"),authForm:{name:"",idcode:""}}},methods:{goBack:function(){uni.navigateBack({delta:1})},unloadIDImage:function(){var a=this;uni.chooseImage({count:1,success:function(e){try{uni.showLoading({title:"上传中...",mask:!0});var i=e.tempFilePaths,n=e.tempFiles;uni.uploadFile({header:{token:a.$globalUrl.token},url:a.$globalUrl.baseUrl+"/api/base/uploadidcode",filePath:i[0],name:"file",formData:{token:uni.getStorageSync("user_token"),file:n[0]},success:function(t){var e=JSON.parse(t.data);0==e.code?(a.authForm.name=e.data.name,a.authForm.idcode=e.data.idcode,a.authForm.idcodeimage=e.data.imgpath,a.authCard=a.$globalUrl.baseUrl+e.data.imgpath):uni.showToast({title:e.msg,icon:"none"})}})}catch(o){t("log",o," at packageMy/pages/my/authentication/authentication.vue:88")}finally{uni.hideLoading()}}})},submit:function(){this.$api.submitAuth({token:uni.getStorageSync("user_token"),name:this.authForm.name,idcode:this.authForm.idcode,idcodeimage:this.authForm.idcodeimage}).then((function(a){0==a.code?(uni.navigateBack({success:function(){var t=getCurrentPages().pop();t&&t.onLoad(t.options)}}),uni.showToast({title:a.msg,icon:"success"})):(t("log",a.msg,"authres.msg"," at packageMy/pages/my/authentication/authentication.vue:120"),uni.showToast({title:a.msg,icon:"none"}))}))}}};a.default=i}).call(this,e("0de9")["log"])},af67:function(t,a,e){"use strict";e.r(a);var i=e("1661"),n=e("bc8a");for(var o in n)"default"!==o&&function(t){e.d(a,t,(function(){return n[t]}))}(o);var u,s=e("f0c5"),c=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"b3f27b1e",null,!1,i["a"],u);a["default"]=c.exports},bc8a:function(t,a,e){"use strict";e.r(a);var i=e("a199"),n=e.n(i);for(var o in i)"default"!==o&&function(t){e.d(a,t,(function(){return i[t]}))}(o);a["default"]=n.a}}]);