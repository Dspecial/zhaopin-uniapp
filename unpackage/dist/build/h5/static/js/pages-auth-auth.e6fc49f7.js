(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-auth-auth"],{4827:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return a}));var a={uniNavBar:n("519c").default},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"page-container my-container"},[n("uni-nav-bar",{attrs:{dark:!0,fixed:!0,"status-bar":!0,title:"授权登录",border:!1}}),n("v-uni-view",{staticClass:"my-profile"},[n("v-uni-image",{staticClass:"image profile-bg",attrs:{src:e.authBg,mode:"aspectFill"}})],1),n("v-uni-view",{staticClass:"p-3"},[n("v-uni-image",{staticClass:"image about-logo-image",attrs:{src:e.logo,mode:"aspectFit"}}),n("v-uni-view",{staticClass:"d-flex justify-content-center mt-5"},[n("v-uni-text",{staticClass:"bg-primary-600 fs_18 auth-btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.getUserInfo.apply(void 0,arguments)}}},[e._v("授权登录")])],1)],1)],1)},r=[]},"52ce":function(e,t,n){"use strict";n.r(t);var a=n("4827"),i=n("7853");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var o,u=n("f0c5"),c=Object(u["a"])(i["default"],a["b"],a["c"],!1,null,"43b585e6",null,!1,a["a"],o);t["default"]=c.exports},6118:function(e,t,n){e.exports=n.p+"static/img/my_navbar_auth.f341082c.png"},7853:function(e,t,n){"use strict";n.r(t);var a=n("ed6c"),i=n.n(a);for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);t["default"]=i.a},e64e:function(e,t,n){e.exports=n.p+"static/img/uni.e19b3310.png"},ed6c:function(e,t,n){"use strict";(function(e){n("4d63"),n("ac1f"),n("25f0"),n("466d"),n("5319"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={data:function(){return{authBg:n("6118"),logo:n("e64e")}},onLoad:function(){var t=navigator.userAgent.toLowerCase();if("micromessenger"==t.match(/MicroMessenger/i)){var n=window.location.href,a=this.getUrlCode("code");if(null==a||""==a){var i=this.$globalUrl.appId,r=encodeURIComponent(n),o="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+i+"&redirect_uri="+r+"&response_type=code&scope=snsapi_userinfo&state=STATE&connect_redirect=1#wechat_redirect";window.location.href=o;var u=getCurrentPages(),c=u[u.length-2],s=c.__page__.fullPath;uni.setStorageSync("beforePageFullPath",s)}else this.wx_auth(a)}else{u=getCurrentPages(),c=u[u.length-2],s=c.__page__.fullPath;uni.setStorageSync("beforePageFullPath",s),e("log","普通浏览器"," at pages/auth/auth.vue:57")}},methods:{getUserInfo:function(){var e=navigator.userAgent.toLowerCase();if("micromessenger"==e.match(/MicroMessenger/i)){var t=window.location.href;this.wx_auth(t)}else{uni.setStorageSync("user_token","62bbc9bd759eb1656474045642861");var n=uni.getStorageSync("beforePageFullPath");uni.reLaunch({url:n})}},getUrlCode:function(e){return decodeURIComponent((new RegExp("[?|&]"+e+"=([^&;]+?)(&|#|;|$)").exec(location.href)||[,""])[1].replace(/\+/g,"%20"))||null},wx_auth:function(e){this.$api.wx_wx_auth({code:e,signcode:""}).then((function(e){if(0==e.code){uni.setStorageSync("user_token",e.data);var t=uni.getStorageSync("beforePageFullPath");uni.reLaunch({url:t})}else uni.showToast({title:authres.msg,icon:"none"})}))}}};t.default=a}).call(this,n("0de9")["log"])}}]);